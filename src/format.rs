
use ddsfile::{DxgiFormat, D3DFormat};
use dacite::core::{Format, ComponentMapping, ComponentSwizzle};

pub fn from_d3d(format: D3DFormat) -> Option<(Format, ComponentMapping)>
{
    //info!("Looking to match format {:?}", format);
    match format {
        D3DFormat::A8B8G8R8 => Some((Format::R8G8B8A8_sRGB, ComponentMapping::identity())),
        D3DFormat::G16R16 => None,
        D3DFormat::A2B10G10R10 => None,
        D3DFormat::A1R5G5B5 => None,
        D3DFormat::R5G6B5 => None,
        D3DFormat::A8 => None,
        D3DFormat::A8R8G8B8 => Some((
            Format::R8G8B8A8_sRGB,
            ComponentMapping {
                r: ComponentSwizzle::B,
                g: ComponentSwizzle::Identity,
                b: ComponentSwizzle::R,
                a: ComponentSwizzle::Identity,
            }
        )),
        D3DFormat::X8R8G8B8 => None,
        D3DFormat::X8B8G8R8 => None,
        D3DFormat::A2R10G10B10 => None,
        D3DFormat::R8G8B8 => None,
        D3DFormat::X1R5G5B5 => None,
        D3DFormat::A4R4G4B4 => None,
        D3DFormat::X4R4G4B4 => None,
        D3DFormat::A8R3G3B2 => None,
        D3DFormat::A8L8 => None,
        D3DFormat::L16 => None,
        D3DFormat::L8 => None,
        D3DFormat::A4L4 => None,
        D3DFormat::DXT1 => None,
        D3DFormat::DXT3 => None,
        D3DFormat::DXT5 => None,
        D3DFormat::R8G8_B8G8 => None,
        D3DFormat::G8R8_G8B8 => None,
        D3DFormat::A16B16G16R16 => None,
        D3DFormat::Q16W16V16U16 => None,
        D3DFormat::R16F => None,
        D3DFormat::G16R16F => None,
        D3DFormat::A16B16G16R16F => None,
        D3DFormat::R32F => None,
        D3DFormat::G32R32F => None,
        D3DFormat::A32B32G32R32F => None,
        D3DFormat::DXT2 => None,
        D3DFormat::DXT4 => None,
        D3DFormat::UYVY => None,
        D3DFormat::YUY2 => None,
        D3DFormat::CXV8U8 => None
    }
}

pub fn from_dxgi(format: DxgiFormat) -> Option<Format>
{
    info!("Looking to match format {:?}", format);
    match format {
        DxgiFormat::Unknown => None,
        DxgiFormat::R32G32B32A32_Typeless => None,
        DxgiFormat::R32G32B32A32_Float => Some(Format::R32G32B32A32_SFloat),
        DxgiFormat::R32G32B32A32_UInt =>  Some(Format::R32G32B32A32_UInt),
        DxgiFormat::R32G32B32A32_SInt => Some(Format::R32G32B32A32_SInt),
        DxgiFormat::R32G32B32_Typeless => None,
        DxgiFormat::R32G32B32_Float => Some(Format::R32G32B32_SFloat),
        DxgiFormat::R32G32B32_UInt => Some(Format::R32G32B32_UInt),
        DxgiFormat::R32G32B32_SInt => Some(Format::R32G32B32_SInt),
        DxgiFormat::R16G16B16A16_Typeless => None,
        DxgiFormat::R16G16B16A16_Float => Some(Format::R16G16B16A16_SFloat),
        DxgiFormat::R16G16B16A16_UNorm => Some(Format::R16G16B16A16_UNorm),
        DxgiFormat::R16G16B16A16_UInt => Some(Format::R16G16B16A16_UInt),
        DxgiFormat::R16G16B16A16_SNorm => Some(Format::R16G16B16A16_SNorm),
        DxgiFormat::R16G16B16A16_SInt => Some(Format::R16G16B16A16_SInt),
        DxgiFormat::R32G32_Typeless => None,
        DxgiFormat::R32G32_Float => Some(Format::R32G32_SFloat),
        DxgiFormat::R32G32_UInt => Some(Format::R32G32_UInt),
        DxgiFormat::R32G32_SInt => Some(Format::R32G32_SInt),
        DxgiFormat::R32G8X24_Typeless => None,
        DxgiFormat::D32_Float_S8X24_UInt => Some(Format::D32_SFloat_S8_UInt),
        DxgiFormat::R32_Float_X8X24_Typeless => None,
        DxgiFormat::X32_Typeless_G8X24_UInt => None,
        DxgiFormat::R10G10B10A2_Typeless => None,
        DxgiFormat::R10G10B10A2_UNorm => None,
        DxgiFormat::R10G10B10A2_UInt => None,
        DxgiFormat::R11G11B10_Float => None,
        DxgiFormat::R8G8B8A8_Typeless => None,
        DxgiFormat::R8G8B8A8_UNorm => Some(Format::R8G8B8A8_UNorm),
        DxgiFormat::R8G8B8A8_UNorm_sRGB => Some(Format::R8G8B8A8_sRGB),
        DxgiFormat::R8G8B8A8_UInt => Some(Format::R8G8B8A8_UInt),
        DxgiFormat::R8G8B8A8_SNorm => Some(Format::R8G8B8A8_SNorm),
        DxgiFormat::R8G8B8A8_SInt => Some(Format::R8G8B8A8_SInt),
        DxgiFormat::R16G16_Typeless => None,
        DxgiFormat::R16G16_Float => Some(Format::R16G16_SFloat),
        DxgiFormat::R16G16_UNorm => Some(Format::R16G16_UNorm),
        DxgiFormat::R16G16_UInt => Some(Format::R16G16_UInt),
        DxgiFormat::R16G16_SNorm => Some(Format::R16G16_SNorm),
        DxgiFormat::R16G16_SInt => Some(Format::R16G16_SInt),
        DxgiFormat::R32_Typeless => None,
        DxgiFormat::D32_Float => Some(Format::D32_SFloat),
        DxgiFormat::R32_Float => Some(Format::R32_SFloat),
        DxgiFormat::R32_UInt => Some(Format::R32_UInt),
        DxgiFormat::R32_SInt => Some(Format::R32_SInt),
        DxgiFormat::R24G8_Typeless => None,
        DxgiFormat::D24_UNorm_S8_UInt => Some(Format::D24_UNorm_S8_UInt),
        DxgiFormat::R24_UNorm_X8_Typeless => None,
        DxgiFormat::X24_Typeless_G8_UInt => None,
        DxgiFormat::R8G8_Typeless => None,
        DxgiFormat::R8G8_UNorm => Some(Format::R8G8_UNorm),
        DxgiFormat::R8G8_UInt => Some(Format::R8G8_UInt),
        DxgiFormat::R8G8_SNorm => Some(Format::R8G8_SNorm),
        DxgiFormat::R8G8_SInt => Some(Format::R8G8_SInt),
        DxgiFormat::R16_Typeless => None,
        DxgiFormat::R16_Float => Some(Format::R16_SFloat),
        DxgiFormat::D16_UNorm => Some(Format::D16_UNorm),
        DxgiFormat::R16_UNorm => Some(Format::R16_UNorm),
        DxgiFormat::R16_UInt => Some(Format::R16_UInt),
        DxgiFormat::R16_SNorm => Some(Format::R16_SNorm),
        DxgiFormat::R16_SInt => Some(Format::R16_SInt),
        DxgiFormat::R8_Typeless => None,
        DxgiFormat::R8_UNorm => Some(Format::R8_UNorm),
        DxgiFormat::R8_UInt => Some(Format::R8_UInt),
        DxgiFormat::R8_SNorm => Some(Format::R8_SNorm),
        DxgiFormat::R8_SInt => Some(Format::R8_SInt),
        DxgiFormat::A8_UNorm => None, // maybe dup Some(Format::R8_UNorm),
        DxgiFormat::R1_UNorm => None,
        DxgiFormat::R9G9B9E5_SharedExp => None,
        DxgiFormat::R8G8_B8G8_UNorm => None,
        DxgiFormat::G8R8_G8B8_UNorm => None,
        DxgiFormat::BC1_Typeless => None,
        DxgiFormat::BC1_UNorm => Some(Format::BC1_RGB_UNorm_Block), // maybe RGBA variant?
        DxgiFormat::BC1_UNorm_sRGB => Some(Format::BC1_RGB_sRGB_Block), // maybe RGBA variant?
        DxgiFormat::BC2_Typeless => None,
        DxgiFormat::BC2_UNorm => Some(Format::BC2_UNorm_Block),
        DxgiFormat::BC2_UNorm_sRGB => Some(Format::BC2_sRGB_Block),
        DxgiFormat::BC3_Typeless => None,
        DxgiFormat::BC3_UNorm => Some(Format::BC3_UNorm_Block),
        DxgiFormat::BC3_UNorm_sRGB => Some(Format::BC3_sRGB_Block),
        DxgiFormat::BC4_Typeless => None,
        DxgiFormat::BC4_UNorm => Some(Format::BC4_UNorm_Block),
        DxgiFormat::BC4_SNorm => Some(Format::BC4_SNorm_Block),
        DxgiFormat::BC5_Typeless => None,
        DxgiFormat::BC5_UNorm => Some(Format::BC5_UNorm_Block),
        DxgiFormat::BC5_SNorm => Some(Format::BC5_SNorm_Block),
        DxgiFormat::B5G6R5_UNorm => Some(Format::B5G6R5_UNorm_Pack16),
        DxgiFormat::B5G5R5A1_UNorm => Some(Format::B5G5R5A1_UNorm_Pack16),
        DxgiFormat::B8G8R8A8_UNorm => Some(Format::B8G8R8A8_UNorm),
        DxgiFormat::B8G8R8X8_UNorm => None,
        DxgiFormat::R10G10B10_XR_Bias_A2_UNorm => None,
        DxgiFormat::B8G8R8A8_Typeless => None,
        DxgiFormat::B8G8R8A8_UNorm_sRGB => Some(Format::B8G8R8A8_sRGB),
        DxgiFormat::B8G8R8X8_Typeless => None,
        DxgiFormat::B8G8R8X8_UNorm_sRGB => None,
        DxgiFormat::BC6H_Typeless => None,
        DxgiFormat::BC6H_UF16 => Some(Format::BC6H_UFloat_Block),
        DxgiFormat::BC6H_SF16 => Some(Format::BC6H_SFloat_Block),
        DxgiFormat::BC7_Typeless => None,
        DxgiFormat::BC7_UNorm => Some(Format::BC7_UNorm_Block),
        DxgiFormat::BC7_UNorm_sRGB => Some(Format::BC7_sRGB_Block),
        DxgiFormat::AYUV => None,
        DxgiFormat::Y410 => None,
        DxgiFormat::Y416 => None,
        DxgiFormat::NV12 => None,
        DxgiFormat::P010 => None,
        DxgiFormat::P016 => None,
        DxgiFormat::Format_420_Opaque => None,
        DxgiFormat::YUY2 => None,
        DxgiFormat::Y210 => None,
        DxgiFormat::Y216 => None,
        DxgiFormat::NV11 => None,
        DxgiFormat::AI44 => None,
        DxgiFormat::IA44 => None,
        DxgiFormat::P8 => None,
        DxgiFormat::A8P8 => None,
        DxgiFormat::B4G4R4A4_UNorm => None,
        DxgiFormat::P208 => None,
        DxgiFormat::V208 => None,
        DxgiFormat::V408 => None,
        DxgiFormat::Force_UInt => None,
    }
}


/*
// Formats that aren't in DxgiFormat

    Undefined,
    R4G4_UNorm_Pack8,
    R4G4B4A4_UNorm_Pack16,
    B4G4R4A4_UNorm_Pack16,
    R5G6B5_UNorm_Pack16,
    R5G5B5A1_UNorm_Pack16,
    A1R5G5B5_UNorm_Pack16,
    R8_UScaled,
    R8_SScaled,
    R8_sRGB,
    R8G8_UScaled,
    R8G8_SScaled,
    R8G8_sRGB,
    R8G8B8_UNorm,
    R8G8B8_SNorm,
    R8G8B8_UScaled,
    R8G8B8_SScaled,
    R8G8B8_UInt,
    R8G8B8_SInt,
    R8G8B8_sRGB,
    B8G8R8_UNorm,
    B8G8R8_SNorm,
    B8G8R8_UScaled,
    B8G8R8_SScaled,
    B8G8R8_UInt,
    B8G8R8_SInt,
    B8G8R8_sRGB,
    R8G8B8A8_UScaled,
    R8G8B8A8_SScaled,
    B8G8R8A8_SNorm,
    B8G8R8A8_UScaled,
    B8G8R8A8_SScaled,
    B8G8R8A8_UInt,
    B8G8R8A8_SInt,
    A8B8G8R8_UNorm_Pack32,
    A8B8G8R8_SNorm_Pack32,
    A8B8G8R8_UScaled_Pack32,
    A8B8G8R8_SScaled_Pack32,
    A8B8G8R8_UInt_Pack32,
    A8B8G8R8_SInt_Pack32,
    A8B8G8R8_sRGB_Pack32,
    A2R10G10B10_UNorm_Pack32,
    A2R10G10B10_SNorm_Pack32,
    A2R10G10B10_UScaled_Pack32,
    A2R10G10B10_SScaled_Pack32,
    A2R10G10B10_UInt_Pack32,
    A2R10G10B10_SInt_Pack32,
    A2B10G10R10_UNorm_Pack32,
    A2B10G10R10_SNorm_Pack32,
    A2B10G10R10_UScaled_Pack32,
    A2B10G10R10_SScaled_Pack32,
    A2B10G10R10_UInt_Pack32,
    A2B10G10R10_SInt_Pack32,
    R16_UScaled,
    R16_SScaled,
    R16G16_UScaled,
    R16G16_SScaled,
    R16G16B16_UNorm,
    R16G16B16_SNorm,
    R16G16B16_UScaled,
    R16G16B16_SScaled,
    R16G16B16_UInt,
    R16G16B16_SInt,
    R16G16B16_SFloat,
    R16G16B16A16_UScaled,
    R16G16B16A16_SScaled,
    R64_UInt,
    R64_SInt,
    R64_SFloat,
    R64G64_UInt,
    R64G64_SInt,
    R64G64_SFloat,
    R64G64B64_UInt,
    R64G64B64_SInt,
    R64G64B64_SFloat,
    R64G64B64A64_UInt,
    R64G64B64A64_SInt,
    R64G64B64A64_SFloat,
    B10G11R11_UFloat_Pack32,
    E5B9G9R9_UFloat_Pack32,
    X8_D24_UNorm_Pack32,
    S8_UInt,
    D16_UNorm_S8_UInt,
    BC1_RGBA_UNorm_Block,
    BC1_RGBA_sRGB_Block,
    ETC2_R8G8B8_UNorm_Block,
    ETC2_R8G8B8_sRGB_Block,
    ETC2_R8G8B8A1_UNorm_Block,
    ETC2_R8G8B8A1_sRGB_Block,
    ETC2_R8G8B8A8_UNorm_Block,
    ETC2_R8G8B8A8_sRGB_Block,
    EAC_R11_UNorm_Block,
    EAC_R11_SNorm_Block,
    EAC_R11G11_UNorm_Block,
    EAC_R11G11_SNorm_Block,
    ASTC_4x4_UNorm_Block,
    ASTC_4x4_sRGB_Block,
    ASTC_5x4_UNorm_Block,
    ASTC_5x4_sRGB_Block,
    ASTC_5x5_UNorm_Block,
    ASTC_5x5_sRGB_Block,
    ASTC_6x5_UNorm_Block,
    ASTC_6x5_sRGB_Block,
    ASTC_6x6_UNorm_Block,
    ASTC_6x6_sRGB_Block,
    ASTC_8x5_UNorm_Block,
    ASTC_8x5_sRGB_Block,
    ASTC_8x6_UNorm_Block,
    ASTC_8x6_sRGB_Block,
    ASTC_8x8_UNorm_Block,
    ASTC_8x8_sRGB_Block,
    ASTC_10x5_UNorm_Block,
    ASTC_10x5_sRGB_Block,
    ASTC_10x6_UNorm_Block,
    ASTC_10x6_sRGB_Block,
    ASTC_10x8_UNorm_Block,
    ASTC_10x8_sRGB_Block,
    ASTC_10x10_UNorm_Block,
    ASTC_10x10_sRGB_Block,
    ASTC_12x10_UNorm_Block,
    ASTC_12x10_sRGB_Block,
    ASTC_12x12_UNorm_Block,
    ASTC_12x12_sRGB_Block,

    /// See extension [`VK_IMG_format_pvrtc`](https://www.khronos.org/registry/vulkan/specs/1.0-extensions/html/vkspec.html#VK_IMG_format_pvrtc)
    PVRTC1_2BPP_UNorm_Block_Img,

    /// See extension [`VK_IMG_format_pvrtc`](https://www.khronos.org/registry/vulkan/specs/1.0-extensions/html/vkspec.html#VK_IMG_format_pvrtc)
    PVRTC1_4BPP_UNorm_Block_Img,

    /// See extension [`VK_IMG_format_pvrtc`](https://www.khronos.org/registry/vulkan/specs/1.0-extensions/html/vkspec.html#VK_IMG_format_pvrtc)
    PVRTC2_2BPP_UNorm_Block_Img,

    /// See extension [`VK_IMG_format_pvrtc`](https://www.khronos.org/registry/vulkan/specs/1.0-extensions/html/vkspec.html#VK_IMG_format_pvrtc)
    PVRTC2_4BPP_UNorm_Block_Img,

    /// See extension [`VK_IMG_format_pvrtc`](https://www.khronos.org/registry/vulkan/specs/1.0-extensions/html/vkspec.html#VK_IMG_format_pvrtc)
    PVRTC1_2BPP_sRGB_Block_Img,

    /// See extension [`VK_IMG_format_pvrtc`](https://www.khronos.org/registry/vulkan/specs/1.0-extensions/html/vkspec.html#VK_IMG_format_pvrtc)
    PVRTC1_4BPP_sRGB_Block_Img,

    /// See extension [`VK_IMG_format_pvrtc`](https://www.khronos.org/registry/vulkan/specs/1.0-extensions/html/vkspec.html#VK_IMG_format_pvrtc)
    PVRTC2_2BPP_sRGB_Block_Img,

    /// See extension [`VK_IMG_format_pvrtc`](https://www.khronos.org/registry/vulkan/specs/1.0-extensions/html/vkspec.html#VK_IMG_format_pvrtc)
    PVRTC2_4BPP_sRGB_Block_Img,

    Unknown(vks::vk::VkFormat),
}
 */
